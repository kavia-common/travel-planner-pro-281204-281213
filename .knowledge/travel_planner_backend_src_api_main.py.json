{"is_source_file": true, "format": "Python", "description": "This is the main module for a FastAPI-based backend API of a travel planner application. It defines REST endpoints for managing users, trips, destinations, itinerary days, accommodations, activities, and notes. The file includes route handlers, API documentation tags, and middleware setup.", "external_files": ["./db", "./models", "./schemas"], "external_methods": ["get_db_session", "select", "session.add", "session.commit", "session.refresh", "session.delete", "session.scalars", "session.get", "os.getenv", "list", "select", "raise HTTPException"], "published": ["health_check", "create_user", "list_users", "create_trip", "list_trips", "get_trip", "update_trip", "delete_trip", "add_destination", "list_destinations", "create_itinerary_day", "list_itinerary_days", "create_accommodation", "list_accommodations", "create_activity", "list_activities", "create_note", "list_notes"], "classes": [], "methods": [{"name": "List[str] _get_allowed_origins()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DestinationOut add_destination(trip_id: UUID, payload: DestinationCreate, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AccommodationOut create_accommodation( trip_id: UUID, payload: AccommodationCreate, db: Session = Depends(get_db_session) )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ActivityOut create_activity(trip_id: UUID, payload: ActivityCreate, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DayOut create_itinerary_day(trip_id: UUID, payload: DayCreate, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "NoteOut create_note(trip_id: UUID, payload: NoteCreate, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TripOut create_trip(payload: TripCreate, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "UserOut create_user(payload: UserCreate, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ApiMessage delete_trip(trip_id: UUID, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TripOut get_trip(trip_id: UUID, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ApiMessage health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list[AccommodationOut] list_accommodations(trip_id: UUID, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list[ActivityOut] list_activities(trip_id: UUID, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list[DestinationOut] list_destinations(trip_id: UUID, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list[DayOut] list_itinerary_days(trip_id: UUID, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list[NoteOut] list_notes(trip_id: UUID, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list[TripOut] list_trips(user_id: UUID | None = None, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list[UserOut] list_users(db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TripOut update_trip(trip_id: UUID, payload: TripUpdate, db: Session = Depends(get_db_session))", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["Depends(get_db_session)", "select", "db.add", "db.commit", "db.refresh", "db.delete", "db.scalars", "db.get", "os.getenv", "list", "select", "raise HTTPException"], "search-terms": ["FastAPI", "REST endpoints", "trip management", "destinations", "itinerary", "accommodations", "activities", "notes", "CORS middleware", "OpenAPI", "API health check"], "state": 2, "file_id": 4, "knowledge_revision": 16, "git_revision": "4bbd4ba6f7d5edfe03ba15b15c41fa86a520b432", "revision_history": [{"9": "4bbd4ba6f7d5edfe03ba15b15c41fa86a520b432"}, {"16": "4bbd4ba6f7d5edfe03ba15b15c41fa86a520b432"}], "ctags": [{"_type": "tag", "name": "_get_allowed_origins", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def _get_allowed_origins() -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "add_destination", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def add_destination(trip_id: UUID, payload: DestinationCreate, db: Session = Depends(get_db_sess/", "language": "Python", "typeref": "typename:DestinationOut", "kind": "function", "signature": "(trip_id: UUID, payload: DestinationCreate, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_accommodation", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def create_accommodation($/", "language": "Python", "typeref": "typename:AccommodationOut", "kind": "function", "signature": "( trip_id: UUID, payload: AccommodationCreate, db: Session = Depends(get_db_session) )"}, {"_type": "tag", "name": "create_activity", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def create_activity(trip_id: UUID, payload: ActivityCreate, db: Session = Depends(get_db_session/", "language": "Python", "typeref": "typename:ActivityOut", "kind": "function", "signature": "(trip_id: UUID, payload: ActivityCreate, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "create_itinerary_day", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def create_itinerary_day(trip_id: UUID, payload: DayCreate, db: Session = Depends(get_db_session/", "language": "Python", "typeref": "typename:DayOut", "kind": "function", "signature": "(trip_id: UUID, payload: DayCreate, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def create_note(trip_id: UUID, payload: NoteCreate, db: Session = Depends(get_db_session)) -> No/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(trip_id: UUID, payload: NoteCreate, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "create_trip", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def create_trip(payload: TripCreate, db: Session = Depends(get_db_session)) -> TripOut:$/", "language": "Python", "typeref": "typename:TripOut", "kind": "function", "signature": "(payload: TripCreate, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "create_user", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def create_user(payload: UserCreate, db: Session = Depends(get_db_session)) -> UserOut:$/", "language": "Python", "typeref": "typename:UserOut", "kind": "function", "signature": "(payload: UserCreate, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "delete_trip", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def delete_trip(trip_id: UUID, db: Session = Depends(get_db_session)) -> ApiMessage:$/", "language": "Python", "typeref": "typename:ApiMessage", "kind": "function", "signature": "(trip_id: UUID, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "get_trip", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def get_trip(trip_id: UUID, db: Session = Depends(get_db_session)) -> TripOut:$/", "language": "Python", "typeref": "typename:TripOut", "kind": "function", "signature": "(trip_id: UUID, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def health_check() -> ApiMessage:$/", "language": "Python", "typeref": "typename:ApiMessage", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "list_accommodations", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def list_accommodations(trip_id: UUID, db: Session = Depends(get_db_session)) -> list[Accommodat/", "language": "Python", "typeref": "typename:list[AccommodationOut]", "kind": "function", "signature": "(trip_id: UUID, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "list_activities", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def list_activities(trip_id: UUID, db: Session = Depends(get_db_session)) -> list[ActivityOut]:$/", "language": "Python", "typeref": "typename:list[ActivityOut]", "kind": "function", "signature": "(trip_id: UUID, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "list_destinations", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def list_destinations(trip_id: UUID, db: Session = Depends(get_db_session)) -> list[DestinationO/", "language": "Python", "typeref": "typename:list[DestinationOut]", "kind": "function", "signature": "(trip_id: UUID, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "list_itinerary_days", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def list_itinerary_days(trip_id: UUID, db: Session = Depends(get_db_session)) -> list[DayOut]:$/", "language": "Python", "typeref": "typename:list[DayOut]", "kind": "function", "signature": "(trip_id: UUID, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def list_notes(trip_id: UUID, db: Session = Depends(get_db_session)) -> list[NoteOut]:$/", "language": "Python", "typeref": "typename:list[NoteOut]", "kind": "function", "signature": "(trip_id: UUID, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "list_trips", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def list_trips(user_id: UUID | None = None, db: Session = Depends(get_db_session)) -> list[TripO/", "language": "Python", "typeref": "typename:list[TripOut]", "kind": "function", "signature": "(user_id: UUID | None = None, db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "list_users", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def list_users(db: Session = Depends(get_db_session)) -> list[UserOut]:$/", "language": "Python", "typeref": "typename:list[UserOut]", "kind": "function", "signature": "(db: Session = Depends(get_db_session))"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_trip", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/main.py", "pattern": "/^def update_trip(trip_id: UUID, payload: TripUpdate, db: Session = Depends(get_db_session)) -> Tr/", "language": "Python", "typeref": "typename:TripOut", "kind": "function", "signature": "(trip_id: UUID, payload: TripUpdate, db: Session = Depends(get_db_session))"}], "hash": "eb18c47bf9511ccce7e9f9207d53c1f1", "format-version": 4, "code-base-name": "travel_planner_backend", "filename": "travel_planner_backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}]}