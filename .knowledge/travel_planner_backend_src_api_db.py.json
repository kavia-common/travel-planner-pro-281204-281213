{"is_source_file": true, "format": "Python", "description": "This file handles database connection and session management for the Travel Planner backend, including environment variable configuration and engine/session instantiation.", "external_files": [".env"], "external_methods": ["os.getenv", "create_engine", "sessionmaker"], "published": ["get_db_session"], "classes": [{"name": "DbConfig", "description": "Immutable dataclass storing the PostgreSQL connection URL read from environment variables."}], "methods": [{"name": "DbConfig _get_db_config()", "description": "Loads database configuration from environment variables, specifically 'POSTGRES_URL', and returns a DbConfig instance.", "scope": "", "scopeKind": ""}, {"name": "Engine get_engine()", "description": "Creates and returns a SQLAlchemy engine for PostgreSQL based on the loaded configuration.", "scope": "", "scopeKind": ""}, {"name": "get_db_session()", "description": "A FastAPI dependency that yields a database session, ensuring proper cleanup after usage.", "scope": "", "scopeKind": ""}], "calls": ["os.getenv", "create_engine", "sessionmaker"], "search-terms": ["database connection", "PostgreSQL engine", "session management", "environment variables", "Travel Planner backend"], "state": 2, "file_id": 5, "knowledge_revision": 11, "git_revision": "", "ctags": [{"_type": "tag", "name": "DbConfig", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/db.py", "pattern": "/^class DbConfig:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ENGINE", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/db.py", "pattern": "/^ENGINE = get_engine()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SessionLocal", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/db.py", "pattern": "/^SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=ENGINE)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_get_db_config", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/db.py", "pattern": "/^def _get_db_config() -> DbConfig:$/", "language": "Python", "typeref": "typename:DbConfig", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_db_session", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/db.py", "pattern": "/^def get_db_session():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_engine", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-281204-281213/travel_planner_backend/src/api/db.py", "pattern": "/^def get_engine() -> Engine:$/", "language": "Python", "typeref": "typename:Engine", "kind": "function", "signature": "()"}], "hash": "cd502677c68f86dbba88b6ae99bb5ed5", "format-version": 4, "code-base-name": "travel_planner_backend", "filename": "travel_planner_backend/src/api/db.py", "fields": [{"name": "ENGINE = get_engine()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=ENGINE)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"11": ""}]}